%syntax-version=1.0.0
%project=myapp

create_extension_pgcrypto 2025-06-18T03:19:52Z sqitch <sqitch@5bbbc68e64c2> # Create pgcrypto extension
create_schema_api 2025-06-18T03:19:53Z sqitch <sqitch@5bbbc68e64c2> # Create api schema
create_table_customer 2025-06-18T03:19:54Z sqitch <sqitch@5bbbc68e64c2> # Create customer table
create_table_api_customer 2025-06-18T03:19:55Z sqitch <sqitch@5bbbc68e64c2> # Create api.customer table
create_table_movie 2025-06-18T03:19:55Z sqitch <sqitch@5bbbc68e64c2> # Add movie table
create_table_api_movie 2025-06-18T03:19:56Z sqitch <sqitch@5bbbc68e64c2> # Add api.movie table
create_function_myfunc 2025-06-18T03:19:57Z sqitch <sqitch@5bbbc68e64c2> # Add myfunc function
create_function_api_myfunc 2025-06-18T03:19:57Z sqitch <sqitch@5bbbc68e64c2> # Add api.myfunc function
create_function_update 2025-06-18T03:19:58Z sqitch <sqitch@5bbbc68e64c2> # Add update function
create_function_api_update 2025-06-18T03:19:58Z sqitch <sqitch@5bbbc68e64c2> # Add api.update function
create_trigger_update_customer_on_customer 2025-06-18T03:19:59Z sqitch <sqitch@5bbbc68e64c2> # Add update_customer trigger on customer
create_trigger_update_api_customer_on_api_customer 2025-06-18T03:19:59Z sqitch <sqitch@5bbbc68e64c2> # Add update_api_customer trigger on api.customer
create_trigger_modify_customer_on_customer 2025-06-18T03:20:00Z sqitch <sqitch@5bbbc68e64c2> # Add modify_customer trigger on customer
create_trigger_modify_api_customer_on_api_customer 2025-06-18T03:20:00Z sqitch <sqitch@5bbbc68e64c2> # Add modify_api_customer trigger on api.customer
comment_schema_api 2025-06-18T03:20:00Z sqitch <sqitch@5bbbc68e64c2> # Comment on schema api
another_comment 2025-06-18T03:20:01Z sqitch <sqitch@5bbbc68e64c2> # Comment on schema api
comment_table_api_customer 2025-06-18T03:20:01Z sqitch <sqitch@5bbbc68e64c2> # Comment on table api.customer
comment_column_api_customer_name 2025-06-18T03:20:02Z sqitch <sqitch@5bbbc68e64c2> # Comment on column api.customer.name
comment_column_movie_name 2025-06-18T03:20:02Z sqitch <sqitch@5bbbc68e64c2> # Comment on column movie.name
comment_function_api_myfunc 2025-06-18T03:20:03Z sqitch <sqitch@5bbbc68e64c2> # Comment on function api.myfunc()
create_role_authenticator 2025-06-18T03:20:03Z sqitch <sqitch@5bbbc68e64c2> # Create authenticator role
create_role_api_user 2025-06-18T03:20:04Z sqitch <sqitch@5bbbc68e64c2> # Create api_user role
grant_schema_api_usage_to_api_user 2025-06-18T03:20:04Z sqitch <sqitch@5bbbc68e64c2> # Grant api schema usage to api_user
grant_execute_myfunc_to_api_user 2025-06-18T03:20:05Z sqitch <sqitch@5bbbc68e64c2> # Grant execute myfunc() to api_user
grant_execute_api_myfunc_to_api_user 2025-06-18T03:20:05Z sqitch <sqitch@5bbbc68e64c2> # Grant execute api.myfunc() to api_user
grant_membership_authenticator_to_api_user 2025-06-18T03:20:06Z sqitch <sqitch@5bbbc68e64c2> # Grant authenticator membership to api_user
grant_table_privileges_select_on_customer_to_api_user 2025-06-18T03:20:06Z sqitch <sqitch@5bbbc68e64c2> # Grant select on customer table to api_user
grant_table_privileges_select_on_api_customer_to_api_user 2025-06-18T03:20:07Z sqitch <sqitch@5bbbc68e64c2> # Grant select on api.customer table to api_user
