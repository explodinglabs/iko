%syntax-version=1.0.0
%project=myapp

create_extension_pgcrypto 2025-06-16T09:55:05Z sqitch <sqitch@1f7e7e6f272e> # 'Create pgcrypto extension'
create_schema_api 2025-06-16T09:55:05Z sqitch <sqitch@1f7e7e6f272e> # 'Create api schema'
comment_schema_api 2025-06-16T09:55:06Z sqitch <sqitch@1f7e7e6f272e> # 'Comment on schema api'
create_table_customer 2025-06-16T09:55:07Z sqitch <sqitch@1f7e7e6f272e> # 'Create customer table'
create_table_api_customer 2025-06-16T09:55:08Z sqitch <sqitch@1f7e7e6f272e> # 'Create api.customer table'
create_table_movie 2025-06-16T09:55:09Z sqitch <sqitch@1f7e7e6f272e> # 'Add movie table'
create_table_api_movie 2025-06-16T09:55:09Z sqitch <sqitch@1f7e7e6f272e> # 'Add api.movie table'
create_function_myfunc 2025-06-16T09:55:09Z sqitch <sqitch@1f7e7e6f272e> # 'Add myfunc function'
create_function_api_myfunc 2025-06-16T09:55:10Z sqitch <sqitch@1f7e7e6f272e> # 'Add api.myfunc function'
create_function_update 2025-06-16T09:55:10Z sqitch <sqitch@1f7e7e6f272e> # 'Add update function'
create_function_api_update 2025-06-16T09:55:11Z sqitch <sqitch@1f7e7e6f272e> # 'Add api.update function'
create_trigger_update_customer_on_customer 2025-06-16T09:55:11Z sqitch <sqitch@1f7e7e6f272e> # 'Add update_customer trigger on customer'
create_trigger_update_api_customer_on_api_customer 2025-06-16T09:55:12Z sqitch <sqitch@1f7e7e6f272e> # 'Add update_api_customer trigger on api.customer'
create_trigger_modify_customer_on_customer 2025-06-16T09:55:12Z sqitch <sqitch@1f7e7e6f272e> # 'Add modify_customer trigger on customer'
create_trigger_modify_api_customer_on_api_customer 2025-06-16T09:55:13Z sqitch <sqitch@1f7e7e6f272e> # 'Add modify_api_customer trigger on api.customer'
create_role_authenticator 2025-06-16T09:55:13Z sqitch <sqitch@1f7e7e6f272e> # 'Create authenticator role'
create_role_api_user 2025-06-16T09:55:14Z sqitch <sqitch@1f7e7e6f272e> # 'Create api_user role'
grant_schema_api_usage_to_api_user 2025-06-16T09:55:14Z sqitch <sqitch@1f7e7e6f272e> # 'Grant api schema usage to api_user'
grant_execute_myfunc_to_api_user 2025-06-16T09:55:15Z sqitch <sqitch@1f7e7e6f272e> # 'Grant execute myfunc to api_user'
grant_execute_api_myfunc_to_api_user 2025-06-16T09:55:15Z sqitch <sqitch@1f7e7e6f272e> # 'Grant execute api.myfunc to api_user'
grant_membership_authenticator_to_api_user 2025-06-16T09:55:15Z sqitch <sqitch@1f7e7e6f272e> # 'Grant authenticator membership to api_user'
grant_table_privileges_select_on_customer_to_api_user 2025-06-16T09:55:16Z sqitch <sqitch@1f7e7e6f272e> # 'Grant select on customer table to api_user'
grant_table_privileges_select_on_api_customer_to_api_user 2025-06-16T09:55:16Z sqitch <sqitch@1f7e7e6f272e> # 'Grant select on api.customer table to api_user'
